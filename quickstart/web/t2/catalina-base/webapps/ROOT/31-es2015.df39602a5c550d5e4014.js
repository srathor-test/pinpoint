(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{SJjU:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class a{}var o=e("pMnS"),i=e("XWnP"),u=e("o0cf"),c=e("NxbU"),r=e("exIq"),s=e("FVN4"),p=e("2lf1"),d=e("3WZk"),m=e("C6IX"),h=e("m1dV"),v=e("QJdi"),b=e("7rHv"),g=e("w1KT"),f=e("xcNo"),w=e("W33f"),S=e("/yY+"),C=e("UQIx"),y=e("u41I"),T=e("9BJz"),_=e("iInd"),I=e("XNiG"),P=e("1G5W"),O=e("pLZG"),M=e("eIep"),R=e("ZF+8"),V=e("oIO+"),x=e("TwVa"),D=e("Ej/u");class k{constructor(n,l,e,t,a,o,i){this.storeHelperService=n,this.newUrlStateNotificationService=l,this.urlRouteManagerService=e,this.transactionDetailDataService=t,this.dynamicPopupService=a,this.componentFactoryResolver=o,this.injector=i,this.unsubscribe=new I.b}ngOnInit(){this.newUrlStateNotificationService.onUrlStateChange$.pipe(Object(P.a)(this.unsubscribe),Object(O.a)(n=>n.hasValue(x.b.AGENT_ID,x.b.SPAN_ID,x.b.TRACE_ID,x.b.FOCUS_TIMESTAMP)),Object(M.a)(n=>this.transactionDetailDataService.getData(n.getPathValue(x.b.AGENT_ID),n.getPathValue(x.b.SPAN_ID),n.getPathValue(x.b.TRACE_ID),n.getPathValue(x.b.FOCUS_TIMESTAMP)))).subscribe(n=>{this.storeHelperService.dispatch(new V.a.UpdateTransactionDetailData(n))},n=>{this.dynamicPopupService.openPopup({data:{title:"Error",contents:n},component:D.a,onCloseCallback:()=>{this.urlRouteManagerService.reload()}},{resolver:this.componentFactoryResolver,injector:this.injector})})}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}}var N=e("OPvN"),E=e("nUCp"),j=e("D5ZC"),F=e("TMnP"),A=[[".l-transaction-content[_ngcontent-%COMP%]{height:100%}.l-main-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;overflow-y:hidden;height:calc(100vh - 50px)}.l-main-section[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-flow:column nowrap;-webkit-box-flex:1;flex:1;position:relative;height:100%}.l-main-section[_ngcontent-%COMP%]   .l-main-contents[_ngcontent-%COMP%]{height:100%;position:relative;overflow:auto}.l-main-section[_ngcontent-%COMP%]   .l-main-contents.l-main-contents-transaction[_ngcontent-%COMP%]{overflow:hidden}.l-main-contents[_ngcontent-%COMP%]   .l-content-item[_ngcontent-%COMP%]{margin:10px}.l-main-contents[_ngcontent-%COMP%]   .l-content-item.l-margin-none[_ngcontent-%COMP%]{margin:0}.l-main-contents[_ngcontent-%COMP%]   .l-content-item.l-border-none[_ngcontent-%COMP%]{border:none}"]],U=t["\u0275crt"]({encapsulation:0,styles:A,data:{}});function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-notice-container",[],null,null,null,h.b,h.a)),t["\u0275did"](1,114688,null,0,v.a,[t.ElementRef,t.Renderer2,b.a],null,null),(n()(),t["\u0275eld"](2,0,null,null,4,"header",[["class","flex-container flex-row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,1,"pp-header-logo",[],null,null,null,g.b,g.a)),t["\u0275did"](4,114688,null,0,f.a,[w.a,S.a],null,null),(n()(),t["\u0275eld"](5,0,null,null,1,"pp-configuration-icon-container",[],null,null,null,C.b,C.a)),t["\u0275did"](6,114688,null,0,y.a,[T.a,S.a,t.ComponentFactoryResolver,t.Injector],null,null),(n()(),t["\u0275eld"](7,0,null,null,5,"div",[["class","l-main-container"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,4,"section",[["class","l-main-section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","l-main-contents l-main-contents-transaction"]],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,2,"article",[["class","l-content-item l-margin-none l-transaction-content"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["\u0275did"](12,212992,null,0,_.r,[_.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(n,l){n(l,1,0),n(l,4,0),n(l,6,0),n(l,12,0)}),null)}var H=t["\u0275ccf"]("pp-transaction-detail-page",k,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-page",[],null,null,null,L,U)),t["\u0275did"](1,245760,null,0,k,[N.a,E.a,j.a,F.a,T.a,t.ComponentFactoryResolver,t.Injector],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),X=e("BVPj"),z=e("kjD4"),G=e("z7my"),B=e("8PdE"),K=e("d7A3"),W=e("hh58"),J=e("/vre"),q=e("KjnD"),Q=e("YXhU"),Y=e("kKeB"),Z=e("29DB"),$=e("Qloe"),nn=e("6Ldl"),ln=e("FzIv"),en=e("j/kz");class tn{constructor(n,l,e,t,a,o,i,u){this.newUrlStateNotificationService=n,this.storeHelperService=l,this.urlRouteManagerService=e,this.transactionDetailDataService=t,this.analyticsService=a,this.dynamicPopupService=o,this.componentFactoryResolver=i,this.injector=u,this.unsubscribe=new I.b}ngOnInit(){this.storeHelperService.getTransactionViewType(this.unsubscribe).subscribe(n=>{this.activeTabKey=n}),this.transactionDetailDataService.partInfo$.subscribe(n=>{this.partInfo=n})}onSelectViewType(n){this.analyticsService.trackEvent(R.e[`CLICK_${n}`]),this.storeHelperService.dispatch(new V.a.ChangeTransactionViewType(n))}onOpenDetailView(){this.analyticsService.trackEvent(R.e.OPEN_TRANSACTION_VIEW),this.urlRouteManagerService.openPage({path:[x.a.TRANSACTION_VIEW,this.newUrlStateNotificationService.getPathValue(x.b.AGENT_ID),this.newUrlStateNotificationService.getPathValue(x.b.TRACE_ID),this.newUrlStateNotificationService.getPathValue(x.b.FOCUS_TIMESTAMP),this.newUrlStateNotificationService.getPathValue(x.b.SPAN_ID)]})}onOpenExtraView(n){n.open?this.urlRouteManagerService.openPage({path:[n.url]}):this.dynamicPopupService.openPopup({data:{title:"Notice",contents:this.partInfo.disableButtonMessage},component:en.a},{resolver:this.componentFactoryResolver,injector:this.injector})}}var an=[[""]],on=t["\u0275crt"]({encapsulation:0,styles:an,data:{}});function un(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-menu",[],null,[[null,"outOpenDetailView"],[null,"outSelectViewType"],[null,"outOpenExtraView"]],(function(n,l,e){var t=!0,a=n.component;"outOpenDetailView"===l&&(t=!1!==a.onOpenDetailView()&&t);"outSelectViewType"===l&&(t=!1!==a.onSelectViewType(e)&&t);"outOpenExtraView"===l&&(t=!1!==a.onOpenExtraView(e)&&t);return t}),nn.b,nn.a)),t["\u0275did"](1,114688,null,0,ln.a,[],{activeTabKey:[0,"activeTabKey"],partInfo:[1,"partInfo"]},{outSelectViewType:"outSelectViewType",outOpenDetailView:"outOpenDetailView",outOpenExtraView:"outOpenExtraView"})],(function(n,l){var e=l.component;n(l,1,0,e.activeTabKey,e.partInfo)}),null)}t["\u0275ccf"]("pp-transaction-detail-menu-for-detail-container",tn,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-menu-for-detail-container",[],null,null,null,un,on)),t["\u0275did"](1,114688,null,0,tn,[E.a,N.a,j.a,F.a,S.a,T.a,t.ComponentFactoryResolver,t.Injector],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]);var cn=e("XncD"),rn=e("b1Km"),sn=e("TSSN"),pn=e("jVku"),dn=e("xlwc"),mn=e("/lTL"),hn=e("SVse"),vn=e("vkgz"),bn=e("Xf8D");class gn{constructor(n,l,e,t,a,o){this.storeHelperService=n,this.analyticsService=l,this.dynamicPopupService=e,this.componentFactoryResolver=t,this.injector=a,this.renderer=o,this.unsubscribe=new I.b}ngOnInit(){this.storeHelperService.getTransactionViewType(this.unsubscribe).pipe(Object(vn.a)(n=>{this.renderer.setStyle(this.callTreeComponent.nativeElement,"display","callTree"===n?"block":"none")})).subscribe(n=>{this.activeView=n,this.showSearch="callTree"===this.activeView||"timeline"===this.activeView})}onShowHelp(n){this.analyticsService.trackEvent(R.e.TOGGLE_HELP_VIEWER,bn.a.CALL_TREE);const{left:l,top:e,width:t,height:a}=n.target.getBoundingClientRect();this.dynamicPopupService.openPopup({data:bn.a.CALL_TREE,coord:{coordX:l+t/2,coordY:e+a/2},component:bn.b},{resolver:this.componentFactoryResolver,injector:this.injector})}}var fn=[[".l-content-section[_ngcontent-%COMP%]{height:100%;position:relative}.l-tab-menu-options[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap}.l-component-wrapper[_ngcontent-%COMP%]{width:100%;height:calc(100% - 84px);position:relative}.l-middle-tool-box[_ngcontent-%COMP%]{height:54px;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;padding:0 25px;position:relative}.l-middle-tool-box[_ngcontent-%COMP%], .l-middle-tool-box-tip[_ngcontent-%COMP%]{color:#a8acb5;font-size:18px}"]],wn=t["\u0275crt"]({encapsulation:0,styles:fn,data:{}});function Sn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"pp-server-map-others-container",[],null,null,null,X.b,X.a)),t["\u0275did"](2,245760,null,0,z.a,[t.ChangeDetectorRef,t.Injector,t.ComponentFactoryResolver,w.a,T.a,G.a,B.a,K.a,W.a],{sourceType:[0,"sourceType"]},null)],(function(n,l){n(l,2,0,"TRANSACTION_LIST")}),null)}function Cn(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"pp-transaction-timeline-container",[],null,null,null,J.b,J.a)),t["\u0275did"](2,245760,null,0,q.a,[N.a,Q.a,Y.b,S.a,t.ChangeDetectorRef],null,null)],(function(n,l){n(l,2,0)}),null)}function yn(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{callTreeComponent:0}),(n()(),t["\u0275eld"](1,0,null,null,18,"div",[["class","l-content-section"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"pp-transaction-short-info-container",[],null,null,null,Z.b,Z.a)),t["\u0275did"](3,245760,null,0,$.a,[t.ChangeDetectorRef,N.a],null,null),(n()(),t["\u0275eld"](4,0,null,null,6,"div",[["class","l-tab-menu-options l-middle-tool-box"]],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"pp-transaction-detail-menu-for-detail-container",[],null,null,null,un,on)),t["\u0275did"](6,114688,null,0,tn,[E.a,N.a,j.a,F.a,S.a,T.a,t.ComponentFactoryResolver,t.Injector],null,null),(n()(),t["\u0275eld"](7,0,null,null,1,"pp-transaction-search-container",[],[[8,"hidden",0]],null,null,cn.b,cn.a)),t["\u0275did"](8,245760,null,0,rn.a,[N.a,Q.a,sn.i,pn.a,S.a,t.ChangeDetectorRef],null,null),(n()(),t["\u0275eld"](9,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,0,"button",[["class","fas fa-question-circle l-middle-tool-box-tip"]],null,[[null,"click"]],(function(n,l,e){var t=!0,a=n.component;"click"===l&&(t=!1!==a.onShowHelp(e)&&t);return t}),null,null)),(n()(),t["\u0275eld"](11,0,null,null,8,"div",[["class","l-component-wrapper"]],null,null,null,null,null)),(n()(),t["\u0275eld"](12,0,[[1,0]],null,1,"pp-call-tree-container",[],null,null,null,dn.b,dn.a)),t["\u0275did"](13,245760,null,0,mn.a,[N.a,Q.a,S.a,T.a,t.ComponentFactoryResolver,t.Injector,Y.b],null,null),(n()(),t["\u0275eld"](14,0,null,null,5,null,null,null,null,null,null,null)),t["\u0275did"](15,16384,null,0,hn.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Sn)),t["\u0275did"](17,278528,null,0,hn.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,hn.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,Cn)),t["\u0275did"](19,278528,null,0,hn.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,hn.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){var e=l.component;n(l,3,0),n(l,6,0),n(l,8,0),n(l,13,0),n(l,15,0,e.activeView);n(l,17,0,"serverMap");n(l,19,0,"timeline")}),(function(n,l){n(l,7,0,!l.component.showSearch)}))}var Tn=t["\u0275ccf"]("pp-transaction-detail-contents-container",gn,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"pp-transaction-detail-contents-container",[],null,null,null,yn,wn)),t["\u0275did"](1,114688,null,0,gn,[N.a,S.a,T.a,t.ComponentFactoryResolver,t.Injector,t.Renderer2],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),_n=e("s7LF"),In=e("myvU"),Pn=e("IheW"),On=e("Q7fR"),Mn=e("uyHx"),Rn=e("22Na"),Vn=e("IbkX"),xn=e("M0ag"),Dn=e("uuw7"),kn=e("MyRj"),Nn=e("lXRe"),En=e("eJHu"),jn=e("7XXT"),Fn=e("eC/d"),An=e("IQUl"),Un=e("SXLW"),Ln=e("lYoP"),Hn=e("TwHB"),Xn=e("bGL8"),zn=e("3Pji"),Gn=e("C8VF"),Bn=e("FgOB"),Kn=e("Z7st"),Wn=e("sM80"),Jn=e("IP0z"),qn=e("/HVE"),Qn=e("hOhj"),Yn=e("q/BS"),Zn=e("5gQU");class $n{}e.d(l,"TransactionDetailPageModuleNgFactory",(function(){return nl}));var nl=t["\u0275cmf"](a,[],(function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,i.a,u.a,c.a,r.a,s.a,p.a,d.a,m.a,H,Tn]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,hn.NgLocalization,hn.NgLocaleLocalization,[t.LOCALE_ID,[2,hn["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,_n["\u0275angular_packages_forms_forms_o"],_n["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,Q.a,Q.a,[]),t["\u0275mpd"](4608,In.a,In.a,[Pn.c]),t["\u0275mpd"](4608,B.a,B.a,[]),t["\u0275mpd"](4608,K.a,K.a,[E.a,N.a]),t["\u0275mpd"](4608,On.a,On.a,[Pn.c,w.a,E.a]),t["\u0275mpd"](4608,Mn.a,Mn.a,[Pn.c,N.a,w.a,j.a,E.a,T.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,hn.CommonModule,hn.CommonModule,[]),t["\u0275mpd"](1073742336,_.q,_.q,[[2,_.v],[2,_.m]]),t["\u0275mpd"](1073742336,Rn.ClickOutsideModule,Rn.ClickOutsideModule,[]),t["\u0275mpd"](1073742336,_n["\u0275angular_packages_forms_forms_d"],_n["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,_n.FormsModule,_n.FormsModule,[]),t["\u0275mpd"](1073742336,Vn.b,Vn.b,[]),t["\u0275mpd"](1073742336,xn.a,xn.a,[]),t["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),t["\u0275mpd"](1073742336,kn.a,kn.a,[]),t["\u0275mpd"](1073742336,Nn.a,Nn.a,[]),t["\u0275mpd"](1073742336,En.a,En.a,[]),t["\u0275mpd"](1073742336,jn.a,jn.a,[]),t["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),t["\u0275mpd"](1073742336,An.a,An.a,[]),t["\u0275mpd"](1073742336,Un.AgGridModule,Un.AgGridModule,[]),t["\u0275mpd"](1073742336,Ln.a,Ln.a,[]),t["\u0275mpd"](1073742336,Hn.a,Hn.a,[]),t["\u0275mpd"](1073742336,Xn.a,Xn.a,[]),t["\u0275mpd"](1073742336,zn.b,zn.b,[]),t["\u0275mpd"](1073742336,Gn.a,Gn.a,[]),t["\u0275mpd"](1073742336,Bn.a,Bn.a,[]),t["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),t["\u0275mpd"](1073742336,Wn.a,Wn.a,[]),t["\u0275mpd"](1073742336,Jn.a,Jn.a,[]),t["\u0275mpd"](1073742336,qn.b,qn.b,[]),t["\u0275mpd"](1073742336,Qn.g,Qn.g,[]),t["\u0275mpd"](1073742336,Yn.a,Yn.a,[]),t["\u0275mpd"](1073742336,Zn.a,Zn.a,[]),t["\u0275mpd"](1073742336,$n,$n,[]),t["\u0275mpd"](1073742336,a,a,[]),t["\u0275mpd"](1024,_.k,(function(){return[[{path:"",component:k,children:[{path:":traceId/:focusTimestamp/:agentId/:spanId",component:gn},{path:":traceId/:focusTimestamp/:agentId",redirectTo:"/main",pathMatch:"full"},{path:":traceId/:focusTimestamp",redirectTo:"/main",pathMatch:"full"},{path:":traceId",redirectTo:"/main",pathMatch:"full"},{path:"",redirectTo:"/main",pathMatch:"full"}]}]]}),[])])}))}}]);